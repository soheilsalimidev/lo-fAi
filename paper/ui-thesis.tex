% !TeX program = xelatex
\documentclass[a4paper,fleqn,11pt,oneside]{book}
\usepackage{tabularx,ragged2e}
\usepackage{tikz}
\usetikzlibrary{arrows,shapes}
\usepackage{tabulary}
\usepackage{Settings/UI-Thesis}
\usepackage{acronym}
\usepackage{subfig}
\usepackage{multirow}
\usepackage{siunitx}
\usepackage{enumitem}
% \usepackage{xcolor} \pagecolor[rgb]{0,0,0} \color[rgb]{1,1,1}


\newtheorem{thm}{Theorem}[chapter]
\newtheorem{asmp}{Theorem}[chapter]
\theoremstyle{definition}
\newtheorem{definition}[thm]{تعریف}
\newtheorem{assumption}[asmp]{فرض}
\newtheorem{example}{مثال}[chapter]

\newcommand{\xs}[1]{بخش~\ref{#1}}
\newcommand{\xc}[1]{فصل~\ref{#1}}
\newcommand{\xp}[1]{صفحه~\pageref{#1}}
\newcommand{\xf}[1]{شکل~\ref{#1}}
\newcommand{\xt}[1]{جدول~\ref{#1}}
\newcommand{\xa}[1]{پیوست~\ref{#1}}
\newcommand{\xd}[1]{تعریف~\ref{#1}}
\newcommand{\xr}[1]{قانون~\ref{#1}}
\newcommand{\xra}[1]{R~\ref{#1}}
\newcommand{\xl}[1]{کد~\ref{#1}}
\newcommand{\xal}[1]{الگوریتم~\ref{#1}}
\newcommand{\xe}[1]{معادله~\eqref{#1}}
\newcommand{\xex}[1]{مثال~\ref{#1}}
\newcommand{\xeq}[1]{رابطه~\eqref{#1}}

\newcommand{\mylr}[1]{\texorpdfstring{\lr{#1}}{#1}}
\eqenvironment{نکات}{itemize}
\eqenvironment{تعریف}{definition}
\eqcommand{مورد}{item}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\algnewcommand\algorithmicforeach{\textbf{for each}}
\algdef{S}[FOR]{ForEach}[1]{\algorithmicforeach\ #1\ \algorithmicdo}
%
%\algnewcommand{\IfThenElse}[3]{% \IfThenElse{<if>}{<then>}{<else>}
%  \State \algorithmicif\ #1\ \algorithmicthen\ #2\ \algorithmicelse\ #3}

%\algdef{SE}[FOR]{NoDoFor}{EndFor}[1]{\algorithmicfor\ #1}{\algorithmicend\ \algorithmicfor}%
%\algdef{SE}[IF]{NoThenIf}{EndIf}[1]{\algorithmicif\ #1}{\algorithmicend\ \algorithmicif}%

\newcommand*\diamondarrow{%
  \stackengine{0pt}{\hspace{1.2ex}$\rightarrow$}{$\lozenge$}{O}{l}{F}{F}{L}}
\newcommand*\fdiamondarrow{%
  \stackengine{0pt}{\hspace{1.2ex}$\rightarrow$}{$\blacklozenge$}{O}{l}{F}{F}{L}}
\newcommand*\dltriangle{%
  \stackengine{0pt}{${-}{-}$}{\hspace{3.2ex}$\vartriangleright$}{O}{l}{F}{F}{L}}
\newcommand*\ltriangle{%
  \stackengine{0pt}{${-}$\hspace{-.5ex}${-}$}{\hspace{2.8ex}$\vartriangleright$}{O}{l}{F}{F}{L}}

\makeatletter
\providecommand*{\cupdot}{%
  \mathbin{%
    \mathpalette\@cupdot{}%
  }%
}
\newcommand*{\@cupdot}[2]{%
  \ooalign{%
    $\m@th#1\cup$\cr
    \hidewidth$\m@th#1\cdot$\hidewidth
  }%
}
\makeatother

%\DeclareMathSizes{9}{9}{9}{9}

\lstset{escapeinside={/*@}{@*/}}
%\definecolor{codebackground}{rgb}{0.95,0.95,0.95}
\definecolor{codebackground}{RGB}{255,255,255}
\definecolor{commentcolor}{RGB}{77,153,153}
\definecolor{keywordcolor}{RGB}{153,77,153}
\lstset{backgroundcolor=\color{codebackground}}

\lstset{
  captionpos=b,
  numberstyle=\tiny,
  %basicstyle=\ttfamily\footnotesize,
  %basicstyle=\setLTR\thefootnotesize\ttfamily,
  basicstyle=\setLTR\bfseries\fontsize{8.5pt}{0}\selectfont\ttfamily,
  columns=flexible,
  tabsize=2,
  numbers=none, %left,
  nolol=true,
  keywordstyle=\color{keywordcolor},
  commentstyle=\color{commentcolor},
  stringstyle=\color{blue},
  captiondirection=RTL,
  upquote=true,
}

\def\lstlistingname{کد}

%\input{listings/EOLFormat}
%-----------------------------

\begin{document}


\pagestyle{plain}
\pagenumbering{harfi}
%\setcounter{page}{2}

% ░░░░░░░▒▒▒▒▒▒▓▓▓▓ In the Name of Allah ▓▓▓▓▒▒▒▒▒▒░░░░░░░
\clearpage
\thispagestyle{empty}
\newgeometry{left=3.5cm, right=3.5cm, top=3.5cm, bottom=3.5cm}
\begin{figure}
  \centering
  \includegraphics[width = \linewidth]{Settings/Allah.png}
\end{figure}
% ░░░░░░░▒▒▒▒▒▒▓▓▓▓ Title Page ▓▓▓▓▒▒▒▒▒▒░░░░░░░
\DepartmentFa{دانشکده مهندسی کامپیوتر}
\GroupFa{گروه مهندسی نرم‌افزار}
\ThesisTypeFa{پایان‌نامه} % Or \ThesisTypeFa{پایان‌نامه} Or \ThesisTypeFa{پیشنهادیه پایان‌نامه}
\DegreeFa{کارشناسی} % Or \DegreeFa{کارشناسی ارشد}
\FieldFa{مهندسی کامپیوتر}
\BranchFa{ هوش مصنوعی و نرم افزار}   % This is نام گرایش
\YourFullnameFa{ سهیل سلیمی}
\FirstSupervisorFa{زهرا زجاجی}
\YearFa{ شهریور 1403}
\TitleFa{ آموزش يک مدل زباني كوچک برای ساخت موسیقي \lr{lo-fi}}


% اگر عنوان رساله طولانی بود، در دو خط به صورت نشان داده شده تقسیم شود.
%\TitleFa{قسمت اول عنوان \\ [0.4cm] قسمت دوم عنوان}

\MakeTitlePage

% ░░░░░░░▒▒▒▒▒▒▓▓▓▓ Dedication ▓▓▓▓▒▒▒▒▒▒░░░░░░░
\input{Chapters/Dedication}

% ░░░░░░░▒▒▒▒▒▒▓▓▓▓ Abstract - Farsi ▓▓▓▓▒▒▒▒▒▒░░░░░░░
\input{Chapters/AbstractFa}
\MakeFarsiAbstract

% ░░░░░░░▒▒▒▒▒▒▓▓▓▓ Table of Contents/Figures/Tables ▓▓▓▓▒▒▒▒▒▒░░░░░░░
\setcounter{page}{0}


\MakeTableOfContents
\MakeListOfFigures
\MakeListOfTables
\MakeListOfAlgorithms

% ----------------------------------------------------------------------------
\clearpage
\pagestyle{myheadings}
\pagenumbering{arabic}
\setcounter{page}{1}

% ░░░░░░░▒▒▒▒▒▒▓▓▓▓ Chapters ▓▓▓▓▒▒▒▒▒▒░░░░░░░
\clearpage
\baselineskip=0.9cm
\setcounter{footnote}{0}

\input{Chapters/Chapter1}
\input{Chapters/Chapter2}
\input{Chapters/Chapter3}
\input{Chapters/Chapter4}
\input{Chapters/ChapterEnd}


% ░░░░░░░▒▒▒▒▒▒▓▓▓▓ References ▓▓▓▓▒▒▒▒▒▒░░░░░░░
% References.bib نام فایل حاوی رفرنس‌ها است.
\MakeReferences{References}

% ----------------------------------------------------------------------------
%\clearpage
\pagestyle{myheadings}
%\pagenumbering{arabic}
%\setcounter{page}{1}

% ░░░░░░░▒▒▒▒▒▒▓▓▓▓ Chapters ▓▓▓▓▒▒▒▒▒▒░░░░░░░
\clearpage
\baselineskip=0.9cm
\linespread{1.0} % single-line spacing
% \linespread{1.3} % one and a half line spacing
% \linespread{1.6} % double-line spacing


\settextfont[Scale=1.2, ItalicFont=*, ItalicFeatures={FakeSlant=0.32}, BoldItalicFont=* Bold, BoldItalicFeatures={FakeSlant=0.32}]{B Nazanin}
\titleformat{\chapter}[display]
{\fontsize{15pt}{0}\selectfont  \flushleft  \bfseries \BNazaninScaleOne} % B Nazanin 15
{\chaptertitlename\ \tartibi{chapter}}{0.3cm}{\fontsize{15pt}{0}\selectfont \BNazaninScaleOne} % B Nazanin 15
\sectionfont{\fontsize{14pt}{\baselineskip}\selectfont \bfseries \BNazaninScaleOne} % B Nazanin 14
\subsectionfont{\fontsize{13pt}{\baselineskip}\selectfont \bfseries \BNazaninScaleOne} % B Nazanin 13
\subsubsectionfont{\fontsize{13pt}{\baselineskip}\selectfont \bfseries \BNazaninScaleOne} % B Nazanin 13

% \titlespacing*{\chapter}{0pt}{3.5cm}{8cm}
\titlespacing*{\section}{0pt}{1.2\baselineskip}{0pt}
\titlespacing*{\subsection}{0pt}{1.1\baselineskip}{0pt}
\titlespacing*{\subsubsection}{0pt}{1\baselineskip}{0pt}

\makeatletter
\renewcommand\chapter{\if@openright\cleardoublepage\else\clearpage\fi
  \thispagestyle{empty}
  \global\@topnum\z@
  \@afterindentfalse
  \secdef\@chapter\@schapter}
\makeatother

% ░░░░░░░▒▒▒▒▒▒▓▓▓▓ Appendices ▓▓▓▓▒▒▒▒▒▒░░░░░░░
\MakeAppendices

\captionsetup{list=no}
\input{Chapters/Appendices}


% ░░░░░░░▒▒▒▒▒▒▓▓▓▓ Abstract - English ▓▓▓▓▒▒▒▒▒▒░░░░░░░
\input{Chapters/AbstractEn}
\MakeEnglishAbstract

\DepartmentEn{Faculty of Computer Engineering}
\DegreeEn{BS} % Or \DegreeEn{M.Sc.)} 
\YourFullnameEn{Soheil Salimi}
\DateEn{August 2024} %
\FirstSupervisorEn{Zahra Zojaji}
\TitleEn{Train a small language model for generating lo-fi music} 
%\\[0.2cm] second line (if any)} %% Break the title, if required
% اگر عنوان رساله طولانی بود، در دو خط به صورت نشان داده شده تقسیم شود.
\GroupEn{}
\FirstAdvisorEn{}

\MakeEnglishSignaturePage

\end{document}

